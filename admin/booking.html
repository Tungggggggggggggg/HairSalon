<html>

<head>
    <title>Đặt lịch hẹn</title>
    <link rel="stylesheet" href="giaodien.css">
</head>

<body>
    <div class="container">
        <h2>Đặt lịch hẹn</h2>
        <form id="bookingForm" class="form-container">
            <label for="service">Chọn dịch vụ:</label>
            <select id="service" name="service">
                <option value="cut">Cắt tóc</option>
                <option value="dye">Nhuộm tóc</option>
                <option value="perm">Uốn tóc</option>
                <option value="wash">Gội đầu</option>
                <option value="straight">Duỗi tóc</option>
                <option value="extensions">Nối tóc</option>
                <option value="restore">Phục hồi tóc</option>
            </select>

            <label for="date">Chọn ngày:</label>
            <input type="date" id="date" name="date" required>

            <label for="time">Chọn giờ:</label>
            <input type="time" id="time" name="time" required>

            <label for="customerName">Tên khách hàng:</label>
            <input type="text" id="customerName" name="customerName" placeholder="Nhập tên khách hàng" required>

            <label for="phone">Số điện thoại:</label>
            <input type="tel" id="phone" name="phone" placeholder="Nhập số điện thoại" required>

            <label for="notes">Ghi chú:</label>
            <textarea id="notes" name="notes" placeholder="Yêu cầu đặc biệt (optional)"></textarea>

            <button type="submit" class="btn-submit">Xác nhận đặt lịch</button>
            <button type="button" onclick="showBookingList()">Xem danh sách lịch đặt</button>
        </form>
    </div>

    <script>
        document.getElementById('bookingForm').addEventListener('submit', function (e) {
            e.preventDefault(); // Ngăn chặn form gửi

            // Tạo một đối tượng đặt lịch
            const booking = {
                id: Date.now(), // Tạo ID duy nhất cho đặt lịch
                customerName: document.getElementById('customerName').value,
                service: document.getElementById('service').value,
                date: document.getElementById('date').value,
                time: document.getElementById('time').value,
                phone: document.getElementById('phone').value,
                notes: document.getElementById('notes').value,
                status: 'pending' // Trạng thái mặc định
            };

            // Lưu vào localStorage
            let bookings = JSON.parse(localStorage.getItem('bookings')) || [];
            bookings.push(booking);
            localStorage.setItem('bookings', JSON.stringify(bookings));

            alert('Đặt lịch thành công!');
            window.location.href = 'booking_list.html'; // Chuyển hướng đến danh sách lịch đặt
        });

        function showBookingList() {
            window.location.href = 'booking_list.html'; // Chuyển hướng đến danh sách lịch đặt
        }
    </script>
</body>

</html>
